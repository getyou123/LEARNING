## 自己开发一个数据库
### 一条sql是如何执行的？
主要的过程包括如下：![](https://raw.githubusercontent.com/getyou123/git_pic_use/master/zz202307281017462.png)
其中哪些是前端？哪些是后端呢？
``` 
A query goes through a chain of components in order to retrieve or modify data. The front-end consists of the:

    tokenizer
    parser
    code generator
The input to the front-end is a SQL query. the output is sqlite virtual machine bytecode (essentially a compiled program that can operate on the database).

The back-end consists of the:
    
    virtual machine
    B-tree
    pager
    os interface
```

几个internals部件：

虚拟机：
The virtual machine takes bytecode generated by the front-end as instructions. It can then perform operations on one or more tables or indexes, each of which is stored in a data structure called a B-tree. The VM is essentially a big switch statement on the type of bytecode instruction.
即：虚拟机操作table 或者 index，这两个东西都是存在b-tree中

B-Tree：
Each B-tree consists of many nodes. Each node is one page in length. The B-tree can retrieve a page from disk or save it back to disk by issuing commands to the pager.
即： b-tree作为描述表或者index的结构，由众多的节点组成
